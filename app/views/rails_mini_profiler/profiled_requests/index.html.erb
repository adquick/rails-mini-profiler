<% if @profiled_requests.empty? %>
  <section class="placeholder">
    <%= inline_svg_tag('rails_mini_profiler/logo', class: 'placeholder-image') %>
    <div class="placeholder-text">
      <h2> There is nothing here yet! </h2>
      <p>Send some requests to your app for them to show up here</p>
    </div>
  </section>
<% else %>
  <h1>Profiled Requests</h1>
  <div class="profiled-requests-actions">
    <%= form_with id: 'profiled-request-search-form', url: profiled_requests_url, method: :get do |form| %>
      <%= form.search_field :path, id: 'profiled-request-search', placeholder: 'Search Path...', class: 'search-field' %>
    <% end %>
    <%= link_to(destroy_all_profiled_requests_url,
                method: :delete,
                class: 'clear-action',
                data: { confirm: "This will delete all non-pinned requests. Are you sure?" }) do %>
      <button>Clear Requests</button>
    <% end %>
  </div>
  <ul class="profiled-requests-list">
    <% @profiled_requests.each do |profiled_request| %>
      <li data-link="<%= profiled_request_path(profiled_request.id) %>">
        <span class="request-path"><%= profiled_request.request_path %></span>
        <span> <%= profiled_request.request_method %> </span>
        <span> <%= profiled_request.response_status %> </span>
        <span> <%= profiled_request.response_media_type %> </span>
        <span class="text-right"><%= profiled_request.duration %> ms</span>
        <span class=""><%= profiled_request.created_at %></span>
        <span class="request-buttons">
    <%= link_to(profiled_request_path(profiled_request.id), title: 'Show Details') do %>
    <%= inline_svg_tag('rails_mini_profiler/show.svg', options = {}) %>
    <% end %>
          <%= profiled_request.flamegraph_icon %>
          <%= link_to(profiled_request_path(profiled_request.id), title: 'Delete Request', method: :delete) do %>
    <%= inline_svg_tag('rails_mini_profiler/delete.svg', options = {}) %>
    <% end %>
            </span>
      </li>
    <% end %>
  </ul>
<% end %>
